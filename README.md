## ğŸ“– ä»‹ç»
airda(Air Data Agent)æ˜¯é¢å‘æ•°æ®åˆ†æçš„å¤šæ™ºèƒ½ä½“ï¼Œèƒ½å¤Ÿç†è§£æ•°æ®å¼€å‘å’Œæ•°æ®åˆ†æéœ€æ±‚ã€ç†è§£æ•°æ®ã€ç”Ÿæˆé¢å‘æ•°æ®æŸ¥è¯¢ã€æ•°æ®å¯è§†åŒ–ã€æœºå™¨å­¦ä¹ ç­‰ä»»åŠ¡çš„SQLå’ŒPythonä»£ç ã€‚
### ç‰¹æ€§ï¼š

- **ç²¾å‡†æ•°æ®æ£€ç´¢**ï¼šairdaå…·æœ‰å¼ºå¤§çš„æ•°æ®å¤„ç†å’Œæœç´¢èƒ½åŠ›ï¼Œå¯ä»¥ä»æˆç™¾ä¸Šåƒå¼ è¡¨ä¸­ç²¾å‡†æ‰¾æ•°ï¼Œæ»¡è¶³æ‚¨åœ¨å¤§æ•°æ®ç¯å¢ƒä¸‹çš„æ•°æ®æŸ¥æ‰¾éœ€æ±‚ã€‚
- **ä¸šåŠ¡çŸ¥è¯†ç†è§£**ï¼šairdaä¸ä»…èƒ½å¤„ç†æ•°æ®ï¼Œè¿˜æ·±å…¥ç†è§£æ•°æ®æŒ‡æ ‡ã€è®¡ç®—å…¬å¼ç­‰ä¸šåŠ¡çŸ¥è¯†ï¼Œä¸ºæ‚¨æä¾›æ›´æ·±å±‚æ¬¡ã€æ›´å…·ä¸šåŠ¡ä»·å€¼çš„æ•°æ®åˆ†æã€‚
- **å¤šæ™ºèƒ½ä½“ååŒå·¥ä½œ**ï¼šairdaé‡‡ç”¨é¢å‘æ•°æ®åˆ†æéœ€æ±‚çš„å¤šè½®å¯¹è¯è®¾è®¡ï¼Œå¤šæ™ºèƒ½ä½“å¯ä»¥ååŒå·¥ä½œï¼Œè¿›è¡Œæ•°æ®åˆ†æä»£ç çš„self-debugï¼Œæå‡åˆ†ææ•ˆç‡ï¼Œé™ä½é”™è¯¯ç‡ã€‚
- **æ•°æ®å¯è§†åŒ–**ï¼šairdaå¯ä»¥å°†å¤æ‚çš„æ•°æ®é€šè¿‡å¯è§†åŒ–çš„æ–¹å¼å‘ˆç°ï¼Œè®©æ•°æ®åˆ†æç»“æœæ›´æ˜“äºç†è§£ï¼Œå¸®åŠ©æ‚¨æ›´å¥½åœ°åšå‡ºå†³ç­–ã€‚
### airdaå·¥ä½œæµç¨‹ï¼š
- **éœ€æ±‚ç¡®è®¤ï¼š** airdaä¸ç”¨æˆ·å»ºç«‹å¯¹è¯ï¼Œç†è§£ç”¨æˆ·çš„éœ€æ±‚ã€‚åœ¨è¿™ä¸€é˜¶æ®µï¼Œairdaä¼šæå‡ºä¸€ç³»åˆ—é—®é¢˜ï¼Œä»¥ä¾¿æ›´å‡†ç¡®åœ°äº†è§£ç”¨æˆ·çš„éœ€æ±‚ã€‚
- **ä»»åŠ¡è§„åˆ’ï¼š** airdaä¼šæ ¹æ®æœ€ç»ˆç¡®è®¤çš„éœ€æ±‚å†…å®¹ä¸ºç”¨æˆ·åˆ¶å®šä»»åŠ¡è§„åˆ’ã€‚è¿™ä¸ªè§„åˆ’åŒ…æ‹¬ä¸€ç³»åˆ—æ­¥éª¤ï¼Œairdaä¼šæŒ‰ç…§è¿™äº›æ­¥éª¤æ¥ä¸ºç”¨æˆ·æä¾›æœåŠ¡ã€‚
- **ä»»åŠ¡æ‰§è¡Œï¼š** airdaå°†è§„åˆ’å¥½çš„ä»»åŠ¡åˆ†é…ç»™ä¸åŒçš„æ™ºèƒ½ä½“ï¼Œå¦‚æ•°æ®æŸ¥æ‰¾æ™ºèƒ½ä½“ã€SQLç”Ÿæˆæ™ºèƒ½ä½“ã€ä»£ç ç”Ÿæˆæ™ºèƒ½ä½“ã€å¯è§†åŒ–åˆ†ææ™ºèƒ½ä½“ç­‰ã€‚æ¯ä¸ªæ™ºèƒ½ä½“è´Ÿè´£å…¶ä¸“ä¸šé¢†åŸŸçš„ä»»åŠ¡æ‰§è¡Œï¼ŒååŒå·¥ä½œä»¥ç¡®ä¿ä»»åŠ¡çš„é«˜æ•ˆå®Œæˆã€‚
- **åº”ç”¨ç”Ÿæˆï¼š** airdaæ ¹æ®ç”¨æˆ·éœ€æ±‚ä»»åŠ¡å°†ç»“æœæ•°æ®è½¬åŒ–ä¸ºåº”ç”¨æˆæœï¼Œå¦‚æŒ‡æ ‡å¤§å±å±•ç¤ºã€æ•°æ®APIæœåŠ¡å’Œæ•°æ®åº”ç”¨ç­‰ï¼Œè¿™äº›æˆæœèƒ½å¤Ÿä»¥å¯è§†åŒ–çš„å½¢å¼å±•ç¤ºå…³é”®æ•°æ®æŒ‡æ ‡ï¼Œæä¾›APIæ¥å£ä¾›å…¶ä»–ç³»ç»Ÿæˆ–æœåŠ¡è°ƒç”¨ï¼Œä»¥åŠæ ¹æ®ç”¨æˆ·éœ€æ±‚ç”Ÿæˆå…·ä½“çš„åº”ç”¨ç¨‹åºã€‚![image.png](https://cdn.nlark.com/yuque/0/2024/png/197719/1710300903035-88553d9f-c683-4495-b48a-21ac46ec9c15.png#averageHue=%23f8f8f7&clientId=u2097a547-b42e-4&from=paste&height=433&id=zTI5J&originHeight=866&originWidth=1880&originalType=binary&ratio=2&rotation=0&showTitle=false&size=365231&status=done&style=none&taskId=ua5950672-3b82-42fc-b39f-bcffdb77ff4&title=&width=940)

### å®Œæˆè¿›åº¦ï¼š

- [x] SQLç”Ÿæˆ
- [x] æ•°æ®æ¥å…¥
- [x] çŸ¥è¯†åº“
- [ ] è¯­æ–™åº“
- [ ] å›¾è¡¨ç”Ÿæˆ
- [ ] ä»»åŠ¡è§„åˆ’

## âœ¨ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

Python>=3.10

### å®‰è£… airda

pipå®‰è£…

```
pip install airda -i https://pypi.python.org/simple/
```

### ä¾èµ–å®‰è£…

ä½¿ç”¨airdaéœ€è¦ç”¨åˆ°mongodb,å¯é‡‡ç”¨dockerå®‰è£…mongodb

```
#æ‹‰å–mongoé•œåƒ
docker pull mongo
docker run -itd --name mongo -v /{path_of_mongo_data}:/data/db -p 27017:27017 mongo

```

### è‡ªå®šä¹‰é…ç½®

ç¯å¢ƒå˜é‡

ä¸‹è½½[.env.template](https://github.com/hitsz-ids/airda/blob/main/.env.template)è‡ªå®šä¹‰embeddingæ¨¡å‹,mongoé…ç½®,ä»¥åŠopenaié…ç½®

```
airda env load -p {your_path}/.env_template
```

æ—¥å¿—æ–‡ä»¶ï¼ˆéå¿…é¡»ï¼‰

ä¸‹è½½[log_config.yml.template](https://github.com/hitsz-ids/airda/blob/main/log_config.yml.template),è‡ªå®šä¹‰æ—¥å¿—é…ç½®

```
airda log load -p {your_path}/log_config.yml.template
```

Embedding Model

airdaé»˜è®¤ä½¿ç”¨[stella-large-zh-v2](https://huggingface.co/infgrad/stella-large-zh-v2)æ¨¡å‹, æ¨¡å‹é»˜è®¤ä¸‹è½½åˆ°~/.cache/huggingface/hub/è·¯å¾„,ç›®å½•ä¸‹æ²¡æœ‰éœ€è¦æ‰‹åŠ¨ä¸‹è½½



### ç›¸å…³é…ç½®å‘½ä»¤

æ·»åŠ ä½ çš„æ•°æ®æº
```
airda datasource add -n {datasource_name} -h {host} -p {port} -k MYSQL -d {database} -u {username} -w {password}
#å½“å‰åªæ”¯æŒkindä¸ºMYSQLçš„æ•°æ®æº
```
è®­ç»ƒæ•°æ®æºçš„schema

```
airda datasource sync -n {datasource_name}
```
æŸ¥è¯¢å½“å‰å¯ç”¨çš„æ•°æ®æº
```
airda datasource ls
```

### å¼€å§‹é—®ç­”

```
airda run cli -n {datasource_name}
#è¾“å…¥ä½ çš„é—®é¢˜:
```







## ğŸ‘ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿å„ç§è´¡çŒ®å’Œå»ºè®®ï¼Œå…±åŒåŠªåŠ›ï¼Œä½¿æœ¬é¡¹ç›®æ›´ä¸Šä¸€å±‚æ¥¼ï¼éº»çƒ¦éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

- **æ­¥éª¤1ï¼š** å¦‚æœæ‚¨æƒ³æ·»åŠ ä»»ä½•é¢å¤–çš„åŠŸèƒ½ã€å¢å¼ºåŠŸèƒ½æˆ–åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·å‘å¸ƒä¸€ä¸ª [é—®é¢˜](https://github.com/hitsz-ids/airda/issues) ã€‚å¦‚æœæ‚¨èƒ½éµå¾ª [é—®é¢˜æ¨¡æ¿](https://github.com/hitsz-ids/aird/issues/1) æˆ‘ä»¬å°†ä¸èƒœæ„Ÿæ¿€ã€‚é—®é¢˜å°†åœ¨é‚£é‡Œè¢«è®¨è®ºå’Œåˆ†é…ã€‚
- **æ­¥éª¤2ï¼š** æ— è®ºä½•æ—¶ï¼Œå½“ä¸€ä¸ªé—®é¢˜è¢«åˆ†é…åï¼Œæ‚¨éƒ½å¯ä»¥æŒ‰ç…§ [PRæ¨¡æ¿](https://github.com/hitsz-ids/aird/pulls) åˆ›å»ºä¸€ä¸ª [æ‹‰å–è¯·æ±‚](https://github.com/hitsz-ids/aird/pulls) è¿›è¡Œè´¡çŒ®ã€‚æ‚¨ä¹Ÿå¯ä»¥è®¤é¢†ä»»ä½•å…¬å¼€çš„é—®é¢˜ã€‚å…±åŒåŠªåŠ›ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿airdaå˜å¾—æ›´å¥½ï¼
- **æ­¥éª¤3ï¼š** åœ¨å®¡æŸ¥å’Œè®¨è®ºåï¼ŒPRå°†è¢«åˆå¹¶æˆ–è¿­ä»£ã€‚æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼

åœ¨æ‚¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨èŠ±ä¸€ç‚¹æ—¶é—´æ£€æŸ¥ [è¿™é‡Œ](https://github.com/hitsz-ids/aird/blob/developing/CONTRIBUTING.md) å†è¿›è¡Œè´¡çŒ®ã€‚



